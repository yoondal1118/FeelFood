**감성 분석 기반 개인화 맛집 추천 서비스**  
> 단순히 위치나 평점만으로 음식점을 추천하는 기존 방식에서 벗어나, 사용자의 감정과 주변 환경(날씨, 운세)을 고려한 스토리텔링형 추천 서비스를 구현했습니다.

---

## 1. 기획 의도 및 핵심 기능
"오늘 뭐 먹지?"라는 고민의 본질은 그날의 기분과 상황에 있다는 점에 주목했습니다.

*   **데이터 확보**: 네이버 지도의 실제 방문자 리뷰를 수집하여 신뢰도 높은 데이터셋 구축
*   **감정 분석**: `DistilKoBERT`를 활용해 리뷰 속 미묘한 감정(희/노/슬/사/락/불만)을 6가지로 분류
*   **다각도 추천**: 날씨 API와 Gemini(LLM)를 결합해 '비 오는 날의 위로', '운세에 맞는 메뉴' 등 개인 맞춤형 스토리텔링 추천 제공

---

## 2. 사용 기술 및 선택 이유

| 분류 | 기술 스택 | 선택 이유 |
| :--- | :--- | :--- |
| **Framework** | **Flask** | 추천 로직과 API 연동 위주의 가벼운 서비스를 빠르게 프로토타이핑하기 위해 선택 |
| **Model** | **DistilKoBERT** | BERT의 성능을 유지하면서도 리소스 효율이 좋아 로컬 환경 학습 및 추론에 적합함 |
| **Crawling** | **Selenium** | 동적 로딩이 많은 네이버 지도의 리뷰 데이터를 안정적으로 수집하기 위해 사용 |
| **NLP** | **SoyNLP** | 한국어 특유의 신조어와 반복 문구 처리를 통해 데이터 전처리 품질 향상 |

---

## 3. 문제 해결 과정 (Troubleshooting)

### [문제 1] 크롤링 페이지의 복잡성
*   **현상**: 수집할 대상이 Iframe으로 되어있고, a 태그가 없어 URL 수집이 불가능
*   **해결**: Selenium 라이브러리를 통해 Iframe으로 전환, 검색창에 "{상권이름} 음식점" 키워드 검색 후 가게 이름과 상권 정보 저장

### [문제 2] 동적 로딩 페이지
*   **현상**: 스크롤을 하지 않을 경우 데이터가 로드되지 않아 수집이 불가능
*   **해결**: 페이지의 하단에 도달할 때까지 스크롤 진행 후 데이터 수집

### [문제 3] 가게 정보 수집 시 세분화되어있는 UI
*   **현상**: 가게 메뉴 데이터 수집 시 [포장/배달]로 나뉘어진 가게도 있고 그렇지 않은 가게도 있는 것을 발견
*   **해결**: 메뉴 데이터 수집 전에 [포장/배달] 객체가 있는지 여부를 판별하여 로직을 다르게 변경

### [문제 4] Fail_list의 부재 
*   **현상**: 리뷰 데이터 수집 중 오류 발생 시 해당 가게는 전체 리뷰를 다 수집 못하고 중단
*   **해결**: 중간에 에러가 생길 경우 transaction 기능을 통해 rollback하여 다시 수집할 수 있도록 변경하여 추후 가게의 세부 정보가 없는 가게들만 수집할 수 있도록 로직 설계

### [문제 5] 최신 리뷰 수집 
*   **현상**: 최신화를 위해 스케줄링을 고려하여 수집 데이터가 있는 가게를 다시 수집할 경우 리뷰 적재 방식의 문제 발견
*   **해결**: 유저이름, 작성날짜, 작성 내용을 바탕으로 DB의 있는 내용과 비교하여 중복이 아닐 경우 저장

---

## 4. 🖥️ 실행 결과 (UI/UX)
*   [Youtube 바로가기](https://youtu.be/EaUMBoF_KSM)

---

## 5. 📂 프로젝트 구조
```text
├── crawler/             # Selenium 기반 데이터 수집 모듈
├── machine-learning/     # DistilKoBERT 학습 및 감정 라벨링 스크립트
├── front/               # Flask 기반 웹 서버 및 추천 로직
│   ├── static/          # CSS, JS, Images
│   └── templates/       # HTML 파일
└── requirements.txt      # 의존성 패키지 리스트
```

---

## 6. 📝 소감 및 향후 개선 과제

*   **배운 점**: 모델의 알고리즘만큼이나 중요한 것은 **'학습 데이터의 질'**이라는 것을 데이터를 직접 정제하며 체득했습니다.
*   **한계 및 향후 계획**: 
    *   현재 대학가 주변 데이터로 한정되어 있어, 전국 단위 확장 시 크롤링 속도 개선 및 분산 처리 전략이 필요함을 느낌.
    *   향후 사용자 피드백을 다시 모델 학습에 반영하는 **재학습 파이프라인(MLOps)** 구축 희망.
